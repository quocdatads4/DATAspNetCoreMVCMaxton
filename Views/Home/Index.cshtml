@model DATAspNetCoreMVCMaxton.ViewModel.MainVM


@{
    ViewBag.Title = "Tài khoản";
    ViewBag.pTitle = "Thông tin tài khoản";
    Layout = "~/Views/Shared/_Main.cshtml";
}

@section styles {
    <link href="~/assets/plugins/datatable/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
}


<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
	<div class="ps-3">
		<button id="checkAllButton" onclick="checkAll()" type="button" class="btn btn-primary px-4 raised d-flex gap-2"><i class="material-icons-outlined">check_circle</i>Chọn tất cả</button>
	</div>
	<div class="ps-2">
		<button id="uncheckAllButton" onclick="uncheckAll()" type="button" class="btn btn-secondary raised d-flex"><i class="material-icons-outlined">radio_button_unchecked</i>Bỏ chọn</button>
	</div>
	<div class="ps-2">
		<button id="buttonAll" onclick="buttonAllClicked()" type="button" class="btn btn-success px-4 raised d-flex gap-2"><i class="material-icons-outlined">change_circle</i> Tự động chạy</button>
	</div>
	<div class="ps-4">
		<select name="SelectedProfileGroup" id="SelectedProfileGroup" class="form-select">
			@foreach (var group in Model.Dashboard.ProfileGroupSelectList)
			{
				<option value="@group.Value">@group.Text</option>
			}
		</select>

	</div>
	<div class="ps-2">
		<button type="button" class="btn btn-success px-4 raised d-flex gap-2"><i class="material-icons-outlined">diversity_3</i>Mở nhóm</button>
	</div>

	<div class="ps-2">
		<a asp-controller="ProfileOrbita" asp-action="CreateProfileOrbita" class="btn btn-success px-4 raised d-flex gap-2">
		<i class="material-icons-outlined">change_circle</i> Thêm hồ sơ
		</a>
	</div>
</div>

<div class="card">
	<div class="card-body">
		<div class="table-responsive">
			<table id="example2" class="table table-striped table-bordered">
				<thead>
					<tr>
						<th>Chọn</th>
						<th>Avatar</th>
						<th>Profile ID</th>
						<th>Profile Name</th>
						<th>IP</th>
						<th>Contry</th>
						<th>Trạng thái</th>
						<th>Nhóm</th>
						<th>Hành động</th>
						<th>Cập nhật</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var orbita in Model.Dashboard.ProfileOrbitas)
					{
						<tr>
							<td><input type="checkbox" id="@orbita.ID" name="orbitaCheckboxes" value="@orbita.ID" /></td>
							<td><img src="~/assets/img/avatars/10.png" alt="Avatar" class="rounded-circle p-1 border" width="60" height="60"></td>
							<td>@orbita.ID</td>
							<td>@orbita.ProfileName</td>
							<td>113.23.108.245</td>
							<td>Vietnam</td>
							<td>@orbita.Status</td>
							<td>@orbita.ProfileGroupID</td>
							<td><button id="@orbita.ID" onclick="buttonClicked(this.id)" class=" btn btn-success px-4 raised d-flex gap-2"><i class="material-icons-outlined">account_circle</i>Mở</button></td>
							<td>
								<div class="btn-group">
									<button type="button" class="btn btn-outline-success">Sửa</button>
									<button type="button" class="btn btn-outline-danger">Xoá</button>
								</div>
							</td>
						</tr>
					}
				</tbody>
				<tfoot>
					<tr>
						<th>Name</th>
						<th>Position</th>
						<th>Office</th>
						<th>Age</th>
						<th>Start date</th>
						<th>Salary</th>
					</tr>
				</tfoot>
			</table>

		</div>
	</div>
</div>


@section scripts {
	<script src="~/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>
	<script src="~/assets/plugins/metismenu/metisMenu.min.js"></script>
	<script src="~/assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
	<script src="~/assets/plugins/datatable/js/dataTables.bootstrap5.min.js"></script>
	<script>
		$(document).ready(function () {
			$('#example').DataTable();
		});
	</script>
	<script>
		$(document).ready(function () {
			var table = $('#example2').DataTable({
				lengthChange: false,
				buttons: ['copy', 'excel', 'pdf', 'print']
			});

			table.buttons().container()
				.appendTo('#example2_wrapper .col-md-6:eq(0)');
		});
	</script>


	<!-- Additional Buttons -->
	<button id="checkAllButton" onclick="checkAll()">Check All</button>
	<button id="uncheckAllButton" onclick="uncheckAll()">UnCheck All</button>
	<button id="buttonAll" onclick="buttonAllClicked()">Button All</button>

	<script type="text/javascript">

		function checkAll() {
		@foreach (var orbita in Model.Dashboard.ProfileOrbitas)
		{
			@:document.getElementById('@orbita.ID').checked = true;
		}
				}
		function uncheckAll() {
		@foreach (var orbita in Model.Dashboard.ProfileOrbitas)
		{
			@:document.getElementById('@orbita.ID').checked = false;
		}
				}
		function buttonClicked(buttonId) {
			console.log(buttonId);
			window.chrome.webview.postMessage(buttonId);
		}

		function checkAllCheckboxes() {
			var allChecked = true;
		@foreach (var orbita in Model.Dashboard.ProfileOrbitas)
			{
				@:if (!document.getElementById('@orbita.ID').checked) {
				@:allChecked = false;
				@:}
			}
			return allChecked;
		}

		function buttonAllClicked() {
		@foreach (var orbita in Model.Dashboard.ProfileOrbitas)
			{
				@:if (document.getElementById('@orbita.ID').checked) {
				@:buttonClicked(@orbita.ID);
				@:}
			}
		}

	</script>

}